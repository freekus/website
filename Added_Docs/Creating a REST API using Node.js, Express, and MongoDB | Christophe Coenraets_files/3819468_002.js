document.write('<link href=\"https://gist.github.com/assets/embed-c14e307821ae2832783369ab288fe82a.css\" media=\"screen\" rel=\"stylesheet\" />')
document.write('<div id=\"gist3819468\" class=\"gist\">\n      <div class=\"gist-file\">\n        <div class=\"gist-data gist-syntax\">\n\n\n\n  <div class=\"data\">\n    <table cellpadding=\"0\" cellspacing=\"0\" class=\"lines highlight\">\n      <tr>\n        <td class=\"line_numbers\">\n          <span id=\"file-wines-js-L1\" rel=\"file-wines-js-L1\">1<\/span>\n          <span id=\"file-wines-js-L2\" rel=\"file-wines-js-L2\">2<\/span>\n          <span id=\"file-wines-js-L3\" rel=\"file-wines-js-L3\">3<\/span>\n          <span id=\"file-wines-js-L4\" rel=\"file-wines-js-L4\">4<\/span>\n          <span id=\"file-wines-js-L5\" rel=\"file-wines-js-L5\">5<\/span>\n          <span id=\"file-wines-js-L6\" rel=\"file-wines-js-L6\">6<\/span>\n          <span id=\"file-wines-js-L7\" rel=\"file-wines-js-L7\">7<\/span>\n          <span id=\"file-wines-js-L8\" rel=\"file-wines-js-L8\">8<\/span>\n          <span id=\"file-wines-js-L9\" rel=\"file-wines-js-L9\">9<\/span>\n          <span id=\"file-wines-js-L10\" rel=\"file-wines-js-L10\">10<\/span>\n          <span id=\"file-wines-js-L11\" rel=\"file-wines-js-L11\">11<\/span>\n          <span id=\"file-wines-js-L12\" rel=\"file-wines-js-L12\">12<\/span>\n          <span id=\"file-wines-js-L13\" rel=\"file-wines-js-L13\">13<\/span>\n          <span id=\"file-wines-js-L14\" rel=\"file-wines-js-L14\">14<\/span>\n          <span id=\"file-wines-js-L15\" rel=\"file-wines-js-L15\">15<\/span>\n          <span id=\"file-wines-js-L16\" rel=\"file-wines-js-L16\">16<\/span>\n          <span id=\"file-wines-js-L17\" rel=\"file-wines-js-L17\">17<\/span>\n          <span id=\"file-wines-js-L18\" rel=\"file-wines-js-L18\">18<\/span>\n          <span id=\"file-wines-js-L19\" rel=\"file-wines-js-L19\">19<\/span>\n          <span id=\"file-wines-js-L20\" rel=\"file-wines-js-L20\">20<\/span>\n          <span id=\"file-wines-js-L21\" rel=\"file-wines-js-L21\">21<\/span>\n          <span id=\"file-wines-js-L22\" rel=\"file-wines-js-L22\">22<\/span>\n          <span id=\"file-wines-js-L23\" rel=\"file-wines-js-L23\">23<\/span>\n          <span id=\"file-wines-js-L24\" rel=\"file-wines-js-L24\">24<\/span>\n          <span id=\"file-wines-js-L25\" rel=\"file-wines-js-L25\">25<\/span>\n          <span id=\"file-wines-js-L26\" rel=\"file-wines-js-L26\">26<\/span>\n          <span id=\"file-wines-js-L27\" rel=\"file-wines-js-L27\">27<\/span>\n          <span id=\"file-wines-js-L28\" rel=\"file-wines-js-L28\">28<\/span>\n          <span id=\"file-wines-js-L29\" rel=\"file-wines-js-L29\">29<\/span>\n          <span id=\"file-wines-js-L30\" rel=\"file-wines-js-L30\">30<\/span>\n          <span id=\"file-wines-js-L31\" rel=\"file-wines-js-L31\">31<\/span>\n          <span id=\"file-wines-js-L32\" rel=\"file-wines-js-L32\">32<\/span>\n          <span id=\"file-wines-js-L33\" rel=\"file-wines-js-L33\">33<\/span>\n          <span id=\"file-wines-js-L34\" rel=\"file-wines-js-L34\">34<\/span>\n          <span id=\"file-wines-js-L35\" rel=\"file-wines-js-L35\">35<\/span>\n          <span id=\"file-wines-js-L36\" rel=\"file-wines-js-L36\">36<\/span>\n          <span id=\"file-wines-js-L37\" rel=\"file-wines-js-L37\">37<\/span>\n          <span id=\"file-wines-js-L38\" rel=\"file-wines-js-L38\">38<\/span>\n          <span id=\"file-wines-js-L39\" rel=\"file-wines-js-L39\">39<\/span>\n          <span id=\"file-wines-js-L40\" rel=\"file-wines-js-L40\">40<\/span>\n          <span id=\"file-wines-js-L41\" rel=\"file-wines-js-L41\">41<\/span>\n          <span id=\"file-wines-js-L42\" rel=\"file-wines-js-L42\">42<\/span>\n          <span id=\"file-wines-js-L43\" rel=\"file-wines-js-L43\">43<\/span>\n          <span id=\"file-wines-js-L44\" rel=\"file-wines-js-L44\">44<\/span>\n          <span id=\"file-wines-js-L45\" rel=\"file-wines-js-L45\">45<\/span>\n          <span id=\"file-wines-js-L46\" rel=\"file-wines-js-L46\">46<\/span>\n          <span id=\"file-wines-js-L47\" rel=\"file-wines-js-L47\">47<\/span>\n          <span id=\"file-wines-js-L48\" rel=\"file-wines-js-L48\">48<\/span>\n          <span id=\"file-wines-js-L49\" rel=\"file-wines-js-L49\">49<\/span>\n          <span id=\"file-wines-js-L50\" rel=\"file-wines-js-L50\">50<\/span>\n          <span id=\"file-wines-js-L51\" rel=\"file-wines-js-L51\">51<\/span>\n          <span id=\"file-wines-js-L52\" rel=\"file-wines-js-L52\">52<\/span>\n          <span id=\"file-wines-js-L53\" rel=\"file-wines-js-L53\">53<\/span>\n          <span id=\"file-wines-js-L54\" rel=\"file-wines-js-L54\">54<\/span>\n          <span id=\"file-wines-js-L55\" rel=\"file-wines-js-L55\">55<\/span>\n          <span id=\"file-wines-js-L56\" rel=\"file-wines-js-L56\">56<\/span>\n          <span id=\"file-wines-js-L57\" rel=\"file-wines-js-L57\">57<\/span>\n          <span id=\"file-wines-js-L58\" rel=\"file-wines-js-L58\">58<\/span>\n          <span id=\"file-wines-js-L59\" rel=\"file-wines-js-L59\">59<\/span>\n          <span id=\"file-wines-js-L60\" rel=\"file-wines-js-L60\">60<\/span>\n          <span id=\"file-wines-js-L61\" rel=\"file-wines-js-L61\">61<\/span>\n          <span id=\"file-wines-js-L62\" rel=\"file-wines-js-L62\">62<\/span>\n          <span id=\"file-wines-js-L63\" rel=\"file-wines-js-L63\">63<\/span>\n          <span id=\"file-wines-js-L64\" rel=\"file-wines-js-L64\">64<\/span>\n          <span id=\"file-wines-js-L65\" rel=\"file-wines-js-L65\">65<\/span>\n          <span id=\"file-wines-js-L66\" rel=\"file-wines-js-L66\">66<\/span>\n          <span id=\"file-wines-js-L67\" rel=\"file-wines-js-L67\">67<\/span>\n          <span id=\"file-wines-js-L68\" rel=\"file-wines-js-L68\">68<\/span>\n          <span id=\"file-wines-js-L69\" rel=\"file-wines-js-L69\">69<\/span>\n          <span id=\"file-wines-js-L70\" rel=\"file-wines-js-L70\">70<\/span>\n          <span id=\"file-wines-js-L71\" rel=\"file-wines-js-L71\">71<\/span>\n          <span id=\"file-wines-js-L72\" rel=\"file-wines-js-L72\">72<\/span>\n          <span id=\"file-wines-js-L73\" rel=\"file-wines-js-L73\">73<\/span>\n          <span id=\"file-wines-js-L74\" rel=\"file-wines-js-L74\">74<\/span>\n          <span id=\"file-wines-js-L75\" rel=\"file-wines-js-L75\">75<\/span>\n          <span id=\"file-wines-js-L76\" rel=\"file-wines-js-L76\">76<\/span>\n          <span id=\"file-wines-js-L77\" rel=\"file-wines-js-L77\">77<\/span>\n          <span id=\"file-wines-js-L78\" rel=\"file-wines-js-L78\">78<\/span>\n          <span id=\"file-wines-js-L79\" rel=\"file-wines-js-L79\">79<\/span>\n          <span id=\"file-wines-js-L80\" rel=\"file-wines-js-L80\">80<\/span>\n          <span id=\"file-wines-js-L81\" rel=\"file-wines-js-L81\">81<\/span>\n          <span id=\"file-wines-js-L82\" rel=\"file-wines-js-L82\">82<\/span>\n          <span id=\"file-wines-js-L83\" rel=\"file-wines-js-L83\">83<\/span>\n          <span id=\"file-wines-js-L84\" rel=\"file-wines-js-L84\">84<\/span>\n          <span id=\"file-wines-js-L85\" rel=\"file-wines-js-L85\">85<\/span>\n          <span id=\"file-wines-js-L86\" rel=\"file-wines-js-L86\">86<\/span>\n          <span id=\"file-wines-js-L87\" rel=\"file-wines-js-L87\">87<\/span>\n          <span id=\"file-wines-js-L88\" rel=\"file-wines-js-L88\">88<\/span>\n          <span id=\"file-wines-js-L89\" rel=\"file-wines-js-L89\">89<\/span>\n          <span id=\"file-wines-js-L90\" rel=\"file-wines-js-L90\">90<\/span>\n          <span id=\"file-wines-js-L91\" rel=\"file-wines-js-L91\">91<\/span>\n          <span id=\"file-wines-js-L92\" rel=\"file-wines-js-L92\">92<\/span>\n          <span id=\"file-wines-js-L93\" rel=\"file-wines-js-L93\">93<\/span>\n          <span id=\"file-wines-js-L94\" rel=\"file-wines-js-L94\">94<\/span>\n          <span id=\"file-wines-js-L95\" rel=\"file-wines-js-L95\">95<\/span>\n          <span id=\"file-wines-js-L96\" rel=\"file-wines-js-L96\">96<\/span>\n          <span id=\"file-wines-js-L97\" rel=\"file-wines-js-L97\">97<\/span>\n          <span id=\"file-wines-js-L98\" rel=\"file-wines-js-L98\">98<\/span>\n          <span id=\"file-wines-js-L99\" rel=\"file-wines-js-L99\">99<\/span>\n          <span id=\"file-wines-js-L100\" rel=\"file-wines-js-L100\">100<\/span>\n          <span id=\"file-wines-js-L101\" rel=\"file-wines-js-L101\">101<\/span>\n          <span id=\"file-wines-js-L102\" rel=\"file-wines-js-L102\">102<\/span>\n          <span id=\"file-wines-js-L103\" rel=\"file-wines-js-L103\">103<\/span>\n          <span id=\"file-wines-js-L104\" rel=\"file-wines-js-L104\">104<\/span>\n          <span id=\"file-wines-js-L105\" rel=\"file-wines-js-L105\">105<\/span>\n          <span id=\"file-wines-js-L106\" rel=\"file-wines-js-L106\">106<\/span>\n          <span id=\"file-wines-js-L107\" rel=\"file-wines-js-L107\">107<\/span>\n          <span id=\"file-wines-js-L108\" rel=\"file-wines-js-L108\">108<\/span>\n          <span id=\"file-wines-js-L109\" rel=\"file-wines-js-L109\">109<\/span>\n          <span id=\"file-wines-js-L110\" rel=\"file-wines-js-L110\">110<\/span>\n          <span id=\"file-wines-js-L111\" rel=\"file-wines-js-L111\">111<\/span>\n          <span id=\"file-wines-js-L112\" rel=\"file-wines-js-L112\">112<\/span>\n          <span id=\"file-wines-js-L113\" rel=\"file-wines-js-L113\">113<\/span>\n          <span id=\"file-wines-js-L114\" rel=\"file-wines-js-L114\">114<\/span>\n          <span id=\"file-wines-js-L115\" rel=\"file-wines-js-L115\">115<\/span>\n          <span id=\"file-wines-js-L116\" rel=\"file-wines-js-L116\">116<\/span>\n          <span id=\"file-wines-js-L117\" rel=\"file-wines-js-L117\">117<\/span>\n        <\/td>\n        <td class=\"line_data\" width=\"100%\">\n          <pre><div class=\"line\" id=\"file-wines-js-LC1\"><span class=\"kd\">var<\/span> <span class=\"nx\">mongo<\/span> <span class=\"o\">=<\/span> <span class=\"nx\">require<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;mongodb&#39;<\/span><span class=\"p\">);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC2\">&nbsp;<\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC3\"><span class=\"kd\">var<\/span> <span class=\"nx\">Server<\/span> <span class=\"o\">=<\/span> <span class=\"nx\">mongo<\/span><span class=\"p\">.<\/span><span class=\"nx\">Server<\/span><span class=\"p\">,<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC4\">    <span class=\"nx\">Db<\/span> <span class=\"o\">=<\/span> <span class=\"nx\">mongo<\/span><span class=\"p\">.<\/span><span class=\"nx\">Db<\/span><span class=\"p\">,<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC5\">    <span class=\"nx\">BSON<\/span> <span class=\"o\">=<\/span> <span class=\"nx\">mongo<\/span><span class=\"p\">.<\/span><span class=\"nx\">BSONPure<\/span><span class=\"p\">;<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC6\">&nbsp;<\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC7\"><span class=\"kd\">var<\/span> <span class=\"nx\">server<\/span> <span class=\"o\">=<\/span> <span class=\"k\">new<\/span> <span class=\"nx\">Server<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;localhost&#39;<\/span><span class=\"p\">,<\/span> <span class=\"mi\">27017<\/span><span class=\"p\">,<\/span> <span class=\"p\">{<\/span><span class=\"nx\">auto_reconnect<\/span><span class=\"o\">:<\/span> <span class=\"kc\">true<\/span><span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC8\"><span class=\"nx\">db<\/span> <span class=\"o\">=<\/span> <span class=\"k\">new<\/span> <span class=\"nx\">Db<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;winedb&#39;<\/span><span class=\"p\">,<\/span> <span class=\"nx\">server<\/span><span class=\"p\">);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC9\">&nbsp;<\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC10\"><span class=\"nx\">db<\/span><span class=\"p\">.<\/span><span class=\"nx\">open<\/span><span class=\"p\">(<\/span><span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">,<\/span> <span class=\"nx\">db<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC11\">    <span class=\"k\">if<\/span><span class=\"p\">(<\/span><span class=\"o\">!<\/span><span class=\"nx\">err<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC12\">        <span class=\"nx\">console<\/span><span class=\"p\">.<\/span><span class=\"nx\">log<\/span><span class=\"p\">(<\/span><span class=\"s2\">&quot;Connected to &#39;winedb&#39; database&quot;<\/span><span class=\"p\">);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC13\">        <span class=\"nx\">db<\/span><span class=\"p\">.<\/span><span class=\"nx\">collection<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;wines&#39;<\/span><span class=\"p\">,<\/span> <span class=\"p\">{<\/span><span class=\"nx\">safe<\/span><span class=\"o\">:<\/span><span class=\"kc\">true<\/span><span class=\"p\">},<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">,<\/span> <span class=\"nx\">collection<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC14\">            <span class=\"k\">if<\/span> <span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC15\">                <span class=\"nx\">console<\/span><span class=\"p\">.<\/span><span class=\"nx\">log<\/span><span class=\"p\">(<\/span><span class=\"s2\">&quot;The &#39;wines&#39; collection doesn&#39;t exist. Creating it with sample data...&quot;<\/span><span class=\"p\">);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC16\">                <span class=\"nx\">populateDB<\/span><span class=\"p\">();<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC17\">            <span class=\"p\">}<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC18\">        <span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC19\">    <span class=\"p\">}<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC20\"><span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC21\">&nbsp;<\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC22\"><span class=\"nx\">exports<\/span><span class=\"p\">.<\/span><span class=\"nx\">findById<\/span> <span class=\"o\">=<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">req<\/span><span class=\"p\">,<\/span> <span class=\"nx\">res<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC23\">    <span class=\"kd\">var<\/span> <span class=\"nx\">id<\/span> <span class=\"o\">=<\/span> <span class=\"nx\">req<\/span><span class=\"p\">.<\/span><span class=\"nx\">params<\/span><span class=\"p\">.<\/span><span class=\"nx\">id<\/span><span class=\"p\">;<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC24\">    <span class=\"nx\">console<\/span><span class=\"p\">.<\/span><span class=\"nx\">log<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;Retrieving wine: &#39;<\/span> <span class=\"o\">+<\/span> <span class=\"nx\">id<\/span><span class=\"p\">);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC25\">    <span class=\"nx\">db<\/span><span class=\"p\">.<\/span><span class=\"nx\">collection<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;wines&#39;<\/span><span class=\"p\">,<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">,<\/span> <span class=\"nx\">collection<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC26\">        <span class=\"nx\">collection<\/span><span class=\"p\">.<\/span><span class=\"nx\">findOne<\/span><span class=\"p\">({<\/span><span class=\"s1\">&#39;_id&#39;<\/span><span class=\"o\">:<\/span><span class=\"k\">new<\/span> <span class=\"nx\">BSON<\/span><span class=\"p\">.<\/span><span class=\"nx\">ObjectID<\/span><span class=\"p\">(<\/span><span class=\"nx\">id<\/span><span class=\"p\">)},<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">,<\/span> <span class=\"nx\">item<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC27\">            <span class=\"nx\">res<\/span><span class=\"p\">.<\/span><span class=\"nx\">send<\/span><span class=\"p\">(<\/span><span class=\"nx\">item<\/span><span class=\"p\">);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC28\">        <span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC29\">    <span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC30\"><span class=\"p\">};<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC31\">&nbsp;<\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC32\"><span class=\"nx\">exports<\/span><span class=\"p\">.<\/span><span class=\"nx\">findAll<\/span> <span class=\"o\">=<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">req<\/span><span class=\"p\">,<\/span> <span class=\"nx\">res<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC33\">    <span class=\"nx\">db<\/span><span class=\"p\">.<\/span><span class=\"nx\">collection<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;wines&#39;<\/span><span class=\"p\">,<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">,<\/span> <span class=\"nx\">collection<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC34\">        <span class=\"nx\">collection<\/span><span class=\"p\">.<\/span><span class=\"nx\">find<\/span><span class=\"p\">().<\/span><span class=\"nx\">toArray<\/span><span class=\"p\">(<\/span><span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">,<\/span> <span class=\"nx\">items<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC35\">            <span class=\"nx\">res<\/span><span class=\"p\">.<\/span><span class=\"nx\">send<\/span><span class=\"p\">(<\/span><span class=\"nx\">items<\/span><span class=\"p\">);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC36\">        <span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC37\">    <span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC38\"><span class=\"p\">};<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC39\">&nbsp;<\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC40\"><span class=\"nx\">exports<\/span><span class=\"p\">.<\/span><span class=\"nx\">addWine<\/span> <span class=\"o\">=<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">req<\/span><span class=\"p\">,<\/span> <span class=\"nx\">res<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC41\">    <span class=\"kd\">var<\/span> <span class=\"nx\">wine<\/span> <span class=\"o\">=<\/span> <span class=\"nx\">req<\/span><span class=\"p\">.<\/span><span class=\"nx\">body<\/span><span class=\"p\">;<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC42\">    <span class=\"nx\">console<\/span><span class=\"p\">.<\/span><span class=\"nx\">log<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;Adding wine: &#39;<\/span> <span class=\"o\">+<\/span> <span class=\"nx\">JSON<\/span><span class=\"p\">.<\/span><span class=\"nx\">stringify<\/span><span class=\"p\">(<\/span><span class=\"nx\">wine<\/span><span class=\"p\">));<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC43\">    <span class=\"nx\">db<\/span><span class=\"p\">.<\/span><span class=\"nx\">collection<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;wines&#39;<\/span><span class=\"p\">,<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">,<\/span> <span class=\"nx\">collection<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC44\">        <span class=\"nx\">collection<\/span><span class=\"p\">.<\/span><span class=\"nx\">insert<\/span><span class=\"p\">(<\/span><span class=\"nx\">wine<\/span><span class=\"p\">,<\/span> <span class=\"p\">{<\/span><span class=\"nx\">safe<\/span><span class=\"o\">:<\/span><span class=\"kc\">true<\/span><span class=\"p\">},<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">,<\/span> <span class=\"nx\">result<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC45\">            <span class=\"k\">if<\/span> <span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC46\">                <span class=\"nx\">res<\/span><span class=\"p\">.<\/span><span class=\"nx\">send<\/span><span class=\"p\">({<\/span><span class=\"s1\">&#39;error&#39;<\/span><span class=\"o\">:<\/span><span class=\"s1\">&#39;An error has occurred&#39;<\/span><span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC47\">            <span class=\"p\">}<\/span> <span class=\"k\">else<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC48\">                <span class=\"nx\">console<\/span><span class=\"p\">.<\/span><span class=\"nx\">log<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;Success: &#39;<\/span> <span class=\"o\">+<\/span> <span class=\"nx\">JSON<\/span><span class=\"p\">.<\/span><span class=\"nx\">stringify<\/span><span class=\"p\">(<\/span><span class=\"nx\">result<\/span><span class=\"p\">[<\/span><span class=\"mi\">0<\/span><span class=\"p\">]));<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC49\">                <span class=\"nx\">res<\/span><span class=\"p\">.<\/span><span class=\"nx\">send<\/span><span class=\"p\">(<\/span><span class=\"nx\">result<\/span><span class=\"p\">[<\/span><span class=\"mi\">0<\/span><span class=\"p\">]);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC50\">            <span class=\"p\">}<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC51\">        <span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC52\">    <span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC53\"><span class=\"p\">}<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC54\">&nbsp;<\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC55\"><span class=\"nx\">exports<\/span><span class=\"p\">.<\/span><span class=\"nx\">updateWine<\/span> <span class=\"o\">=<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">req<\/span><span class=\"p\">,<\/span> <span class=\"nx\">res<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC56\">    <span class=\"kd\">var<\/span> <span class=\"nx\">id<\/span> <span class=\"o\">=<\/span> <span class=\"nx\">req<\/span><span class=\"p\">.<\/span><span class=\"nx\">params<\/span><span class=\"p\">.<\/span><span class=\"nx\">id<\/span><span class=\"p\">;<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC57\">    <span class=\"kd\">var<\/span> <span class=\"nx\">wine<\/span> <span class=\"o\">=<\/span> <span class=\"nx\">req<\/span><span class=\"p\">.<\/span><span class=\"nx\">body<\/span><span class=\"p\">;<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC58\">    <span class=\"nx\">console<\/span><span class=\"p\">.<\/span><span class=\"nx\">log<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;Updating wine: &#39;<\/span> <span class=\"o\">+<\/span> <span class=\"nx\">id<\/span><span class=\"p\">);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC59\">    <span class=\"nx\">console<\/span><span class=\"p\">.<\/span><span class=\"nx\">log<\/span><span class=\"p\">(<\/span><span class=\"nx\">JSON<\/span><span class=\"p\">.<\/span><span class=\"nx\">stringify<\/span><span class=\"p\">(<\/span><span class=\"nx\">wine<\/span><span class=\"p\">));<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC60\">    <span class=\"nx\">db<\/span><span class=\"p\">.<\/span><span class=\"nx\">collection<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;wines&#39;<\/span><span class=\"p\">,<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">,<\/span> <span class=\"nx\">collection<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC61\">        <span class=\"nx\">collection<\/span><span class=\"p\">.<\/span><span class=\"nx\">update<\/span><span class=\"p\">({<\/span><span class=\"s1\">&#39;_id&#39;<\/span><span class=\"o\">:<\/span><span class=\"k\">new<\/span> <span class=\"nx\">BSON<\/span><span class=\"p\">.<\/span><span class=\"nx\">ObjectID<\/span><span class=\"p\">(<\/span><span class=\"nx\">id<\/span><span class=\"p\">)},<\/span> <span class=\"nx\">wine<\/span><span class=\"p\">,<\/span> <span class=\"p\">{<\/span><span class=\"nx\">safe<\/span><span class=\"o\">:<\/span><span class=\"kc\">true<\/span><span class=\"p\">},<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">,<\/span> <span class=\"nx\">result<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC62\">            <span class=\"k\">if<\/span> <span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC63\">                <span class=\"nx\">console<\/span><span class=\"p\">.<\/span><span class=\"nx\">log<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;Error updating wine: &#39;<\/span> <span class=\"o\">+<\/span> <span class=\"nx\">err<\/span><span class=\"p\">);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC64\">                <span class=\"nx\">res<\/span><span class=\"p\">.<\/span><span class=\"nx\">send<\/span><span class=\"p\">({<\/span><span class=\"s1\">&#39;error&#39;<\/span><span class=\"o\">:<\/span><span class=\"s1\">&#39;An error has occurred&#39;<\/span><span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC65\">            <span class=\"p\">}<\/span> <span class=\"k\">else<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC66\">                <span class=\"nx\">console<\/span><span class=\"p\">.<\/span><span class=\"nx\">log<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;&#39;<\/span> <span class=\"o\">+<\/span> <span class=\"nx\">result<\/span> <span class=\"o\">+<\/span> <span class=\"s1\">&#39; document(s) updated&#39;<\/span><span class=\"p\">);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC67\">                <span class=\"nx\">res<\/span><span class=\"p\">.<\/span><span class=\"nx\">send<\/span><span class=\"p\">(<\/span><span class=\"nx\">wine<\/span><span class=\"p\">);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC68\">            <span class=\"p\">}<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC69\">        <span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC70\">    <span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC71\"><span class=\"p\">}<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC72\">&nbsp;<\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC73\"><span class=\"nx\">exports<\/span><span class=\"p\">.<\/span><span class=\"nx\">deleteWine<\/span> <span class=\"o\">=<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">req<\/span><span class=\"p\">,<\/span> <span class=\"nx\">res<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC74\">    <span class=\"kd\">var<\/span> <span class=\"nx\">id<\/span> <span class=\"o\">=<\/span> <span class=\"nx\">req<\/span><span class=\"p\">.<\/span><span class=\"nx\">params<\/span><span class=\"p\">.<\/span><span class=\"nx\">id<\/span><span class=\"p\">;<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC75\">    <span class=\"nx\">console<\/span><span class=\"p\">.<\/span><span class=\"nx\">log<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;Deleting wine: &#39;<\/span> <span class=\"o\">+<\/span> <span class=\"nx\">id<\/span><span class=\"p\">);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC76\">    <span class=\"nx\">db<\/span><span class=\"p\">.<\/span><span class=\"nx\">collection<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;wines&#39;<\/span><span class=\"p\">,<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">,<\/span> <span class=\"nx\">collection<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC77\">        <span class=\"nx\">collection<\/span><span class=\"p\">.<\/span><span class=\"nx\">remove<\/span><span class=\"p\">({<\/span><span class=\"s1\">&#39;_id&#39;<\/span><span class=\"o\">:<\/span><span class=\"k\">new<\/span> <span class=\"nx\">BSON<\/span><span class=\"p\">.<\/span><span class=\"nx\">ObjectID<\/span><span class=\"p\">(<\/span><span class=\"nx\">id<\/span><span class=\"p\">)},<\/span> <span class=\"p\">{<\/span><span class=\"nx\">safe<\/span><span class=\"o\">:<\/span><span class=\"kc\">true<\/span><span class=\"p\">},<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">,<\/span> <span class=\"nx\">result<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC78\">            <span class=\"k\">if<\/span> <span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC79\">                <span class=\"nx\">res<\/span><span class=\"p\">.<\/span><span class=\"nx\">send<\/span><span class=\"p\">({<\/span><span class=\"s1\">&#39;error&#39;<\/span><span class=\"o\">:<\/span><span class=\"s1\">&#39;An error has occurred - &#39;<\/span> <span class=\"o\">+<\/span> <span class=\"nx\">err<\/span><span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC80\">            <span class=\"p\">}<\/span> <span class=\"k\">else<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC81\">                <span class=\"nx\">console<\/span><span class=\"p\">.<\/span><span class=\"nx\">log<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;&#39;<\/span> <span class=\"o\">+<\/span> <span class=\"nx\">result<\/span> <span class=\"o\">+<\/span> <span class=\"s1\">&#39; document(s) deleted&#39;<\/span><span class=\"p\">);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC82\">                <span class=\"nx\">res<\/span><span class=\"p\">.<\/span><span class=\"nx\">send<\/span><span class=\"p\">(<\/span><span class=\"nx\">req<\/span><span class=\"p\">.<\/span><span class=\"nx\">body<\/span><span class=\"p\">);<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC83\">            <span class=\"p\">}<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC84\">        <span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC85\">    <span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC86\"><span class=\"p\">}<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC87\">&nbsp;<\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC88\"><span class=\"cm\">/*--------------------------------------------------------------------------------------------------------------------*/<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC89\"><span class=\"c1\">// Populate database with sample data -- Only used once: the first time the application is started.<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC90\"><span class=\"c1\">// You&#39;d typically not find this code in a real-life app, since the database would already exist.<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC91\"><span class=\"kd\">var<\/span> <span class=\"nx\">populateDB<\/span> <span class=\"o\">=<\/span> <span class=\"kd\">function<\/span><span class=\"p\">()<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC92\">&nbsp;<\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC93\">    <span class=\"kd\">var<\/span> <span class=\"nx\">wines<\/span> <span class=\"o\">=<\/span> <span class=\"p\">[<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC94\">    <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC95\">        <span class=\"nx\">name<\/span><span class=\"o\">:<\/span> <span class=\"s2\">&quot;CHATEAU DE SAINT COSME&quot;<\/span><span class=\"p\">,<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC96\">        <span class=\"nx\">year<\/span><span class=\"o\">:<\/span> <span class=\"s2\">&quot;2009&quot;<\/span><span class=\"p\">,<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC97\">        <span class=\"nx\">grapes<\/span><span class=\"o\">:<\/span> <span class=\"s2\">&quot;Grenache / Syrah&quot;<\/span><span class=\"p\">,<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC98\">        <span class=\"nx\">country<\/span><span class=\"o\">:<\/span> <span class=\"s2\">&quot;France&quot;<\/span><span class=\"p\">,<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC99\">        <span class=\"nx\">region<\/span><span class=\"o\">:<\/span> <span class=\"s2\">&quot;Southern Rhone&quot;<\/span><span class=\"p\">,<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC100\">        <span class=\"nx\">description<\/span><span class=\"o\">:<\/span> <span class=\"s2\">&quot;The aromas of fruit and spice...&quot;<\/span><span class=\"p\">,<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC101\">        <span class=\"nx\">picture<\/span><span class=\"o\">:<\/span> <span class=\"s2\">&quot;saint_cosme.jpg&quot;<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC102\">    <span class=\"p\">},<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC103\">    <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC104\">        <span class=\"nx\">name<\/span><span class=\"o\">:<\/span> <span class=\"s2\">&quot;LAN RIOJA CRIANZA&quot;<\/span><span class=\"p\">,<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC105\">        <span class=\"nx\">year<\/span><span class=\"o\">:<\/span> <span class=\"s2\">&quot;2006&quot;<\/span><span class=\"p\">,<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC106\">        <span class=\"nx\">grapes<\/span><span class=\"o\">:<\/span> <span class=\"s2\">&quot;Tempranillo&quot;<\/span><span class=\"p\">,<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC107\">        <span class=\"nx\">country<\/span><span class=\"o\">:<\/span> <span class=\"s2\">&quot;Spain&quot;<\/span><span class=\"p\">,<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC108\">        <span class=\"nx\">region<\/span><span class=\"o\">:<\/span> <span class=\"s2\">&quot;Rioja&quot;<\/span><span class=\"p\">,<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC109\">        <span class=\"nx\">description<\/span><span class=\"o\">:<\/span> <span class=\"s2\">&quot;A resurgence of interest in boutique vineyards...&quot;<\/span><span class=\"p\">,<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC110\">        <span class=\"nx\">picture<\/span><span class=\"o\">:<\/span> <span class=\"s2\">&quot;lan_rioja.jpg&quot;<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC111\">    <span class=\"p\">}];<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC112\">&nbsp;<\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC113\">    <span class=\"nx\">db<\/span><span class=\"p\">.<\/span><span class=\"nx\">collection<\/span><span class=\"p\">(<\/span><span class=\"s1\">&#39;wines&#39;<\/span><span class=\"p\">,<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">,<\/span> <span class=\"nx\">collection<\/span><span class=\"p\">)<\/span> <span class=\"p\">{<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC114\">        <span class=\"nx\">collection<\/span><span class=\"p\">.<\/span><span class=\"nx\">insert<\/span><span class=\"p\">(<\/span><span class=\"nx\">wines<\/span><span class=\"p\">,<\/span> <span class=\"p\">{<\/span><span class=\"nx\">safe<\/span><span class=\"o\">:<\/span><span class=\"kc\">true<\/span><span class=\"p\">},<\/span> <span class=\"kd\">function<\/span><span class=\"p\">(<\/span><span class=\"nx\">err<\/span><span class=\"p\">,<\/span> <span class=\"nx\">result<\/span><span class=\"p\">)<\/span> <span class=\"p\">{});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC115\">    <span class=\"p\">});<\/span><\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC116\">&nbsp;<\/div><\/pre>\n          <pre><div class=\"line\" id=\"file-wines-js-LC117\"><span class=\"p\">};<\/span><\/div><\/pre>\n        <\/td>\n      <\/tr>\n    <\/table>\n  <\/div>\n\n        <\/div>\n\n        <div class=\"gist-meta\">\n          <a href=\"https://gist.github.com/raw/3819468/667d8eeef993ff0ccfad91f8d3aea1ec0e82bd5b/wines.js\" style=\"float:right\">view raw<\/a>\n          <a href=\"https://gist.github.com/3819468#file-wines-js\" style=\"float:right; margin-right:10px; color:#666;\">wines.js<\/a>\n          <a href=\"https://gist.github.com/3819468\">This Gist<\/a> brought to you by <a href=\"http://github.com\">GitHub<\/a>.\n        <\/div>\n      <\/div>\n<\/div>\n')
